!function(){const e=document,t=window,n=["#grid-all","#grid-bookmarks","#grid-starred","#list-feed","[data-grid]",".doc-grid"],o={},i=e=>`lm:size:${e}`;function r(e){return e+"-"+Math.random().toString(36).slice(2,7)}function a(t,n=e){return Array.from((n||e).querySelectorAll(t))}function s(t,n){if(n.sentinel)return n.sentinel;const o=e.createElement("div");return o.className="loadmore-sentinel",o.id=r("lmSentinel"),t.after(o),n.sentinel=o,o}function l(e,t){if(t.io&&(t.io.disconnect(),t.io=null),"infinite"!==t.mode)return;const n=s(e,t);t.io=new IntersectionObserver(([t])=>{t&&t.isIntersecting&&d(e.id)},{rootMargin:"800px"}),t.io.observe(n)}function c(e){const t=o[e];if(!t)return;const i=t.el;if(!i)return;const r=function(e){return Array.from(e.children).filter(t=>1===t.nodeType&&t!==e&&!t.matches(".loadmore-sentinel")&&"pageSentinel"!==t.id&&!t.hasAttribute("data-lm-static")&&!t.matches(n.join(",")))}(i),a=r.length;t.total=a;const s=Math.min(t.page*t.size,a);if(function(e,t){for(let n=0;n<e.length;n++){const o=e[n];n<t?(o.hidden=!1,o.classList.remove("lm-hidden"),o.style.removeProperty("display")):(o.hidden=!0,o.classList.add("lm-hidden"))}}(r,s),t.bar){const e=t.bar.querySelector(".stats");e&&(e.textContent=`Showing ${s} of ${a}`);const n=t.bar.querySelector("[data-lm=more]");n&&(n.disabled=s>=a);const o=t.bar.querySelector("[data-lm=size]");o&&+o.value!==t.size&&(o.value=String(t.size))}}function d(e){const t=o[e];t&&(t.page++,c(e),t.bar?.querySelector("[data-lm=more]")?.focus())}function u(e,t){const n=o[e];if(n){n.size=Math.max(1,+t||25);try{sessionStorage.setItem(i(e),String(n.size))}catch(e){}n.page=1,c(e);try{n.el.scrollIntoView({behavior:"auto",block:"nearest"})}catch(e){}}}function m(t){const n=t.id||r("grid");t.id||(t.id=n),o[n]=o[n]||{el:t,page:1,size:25,mode:"load-more",total:0,bar:null,io:null,sentinel:null,mo:null};const a=o[n];try{const e=parseInt(sessionStorage.getItem(i(n)),10);!isNaN(e)&&e>0&&(a.size=e)}catch(e){}s(t,a),function(t,n){if(!n.bar){const o=e.createElement("div");o.className="loadmore-bar",o.innerHTML='\n        <div class="stats" aria-live="polite"></div>\n        <div class="btn-group">\n          <button type="button" class="btn btn-outline-primary btn-sm" data-lm="more">Load more</button>\n        </div>\n        <div class="size">\n          <select class="form-select form-select-sm" data-lm="size" style="width:auto;display:inline-block">\n            <option value="5">5</option>\n            <option value="25">25</option>\n            <option value="50">50</option>\n            <option value="100">100</option>\n          </select>\n        </div>',n.bar=o,o.querySelector("[data-lm=more]").addEventListener("click",()=>d(t.id)),o.querySelector("[data-lm=size]").addEventListener("change",e=>u(t.id,+e.target.value))}const o=n.sentinel||s(t,n);o.nextSibling!==n.bar&&o.after(n.bar),n.bar}(t,a),l(t,a),a.mo||(a.mo=new MutationObserver(()=>{a.page=1,c(n)}),a.mo.observe(t,{childList:!0,subtree:!1})),c(n)}function f(){const e=function(){const e=new Set,t=[];for(const o of n)a(o).forEach(n=>{n&&"pageSentinel"!==n.id&&!e.has(n)&&(e.add(n),t.push(n))});return t}();e.forEach(m),t.LoadMore={next:t=>d(t||e[0]?.id),reset:t=>function(e){const t=o[e];t&&(t.page=1,c(e))}(t||e[0]?.id),setSize:(t,n)=>u(n||e[0]?.id,t),setMode:(t,n)=>function(e,t){const n=o[e];n&&(n.mode="infinite"===t?"infinite":"load-more",l(n.el,n))}(n||e[0]?.id,t),refresh:t=>c(t||e[0]?.id),_state:o}}"loading"===e.readyState?e.addEventListener("DOMContentLoaded",f,{once:!0}):f()}();