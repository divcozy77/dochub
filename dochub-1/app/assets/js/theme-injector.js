!function(){const e="msaas-theme",t=document,n=(e,n=t)=>n.querySelector(e);function a(e){const n=t.documentElement;n.classList.remove("theme-dark","theme-light"),"dark"===e&&n.classList.add("theme-dark"),"light"===e&&n.classList.add("theme-light")}function o(){return localStorage.getItem(e)||"auto"}function i(e){const n=getComputedStyle(t.documentElement),a={auto:(n.getPropertyValue("--indicator-auto")||"").trim()||"#16a34a",light:(n.getPropertyValue("--indicator-light")||"").trim()||"#f59e0b",dark:(n.getPropertyValue("--indicator-dark")||"").trim()||"#3b82f6"};["btnThemeQuick","btnPalette"].forEach(n=>{const o=t.getElementById(n);if(!o)return;o.title="Theme: "+e+" (press “t” to cycle)";let i=o.querySelector(".theme-indicator");i||(i=t.createElement("span"),i.className="theme-indicator",o.appendChild(i)),i.style.background=a[e]||a.auto});const o=t.getElementById("themeAuto"),i=t.getElementById("themeLight"),l=t.getElementById("themeDark");o&&i&&l&&(({auto:o,light:i,dark:l}[e]||o).checked=!0)}function l(t){localStorage.setItem(e,t),a(t),i(t)}function c(){const e=["auto","light","dark"],t=o(),n=e[(e.indexOf(t)+1)%e.length];l(n);try{window.showToast&&showToast("Theme: "+n,"secondary")}catch(e){}return n}function s(){let e=n("#btnThemeQuick");const a=n("#btnAdmin");!e&&a&&a.parentElement&&(e=t.createElement("button"),e.id="btnThemeQuick",e.className="btn btn-outline-secondary",e.innerHTML='<i class="bi bi-palette"></i> Theme <span class="theme-indicator"></span>',a.insertAdjacentElement("afterend",e)),e&&(!function(e){if(!e)return;const t=e.parentElement;t&&(getComputedStyle(t).display.includes("flex")?(e.style.marginLeft="auto",e.style.order=999):(e.style.cssFloat="right",e.style.marginLeft="auto"))}(e),e.__bound||(e.addEventListener("click",c),e.__bound=!0));const o=n("#btnPalette");o&&!o.__bound&&(o.addEventListener("click",c),o.__bound=!0)}function r(){r.bound||(t.addEventListener("keydown",e=>{const t=e.target&&e.target.tagName?e.target.tagName.toLowerCase():"";"input"===t||"textarea"===t||e.target&&e.target.isContentEditable||e.ctrlKey||e.metaKey||e.altKey||"t"!==e.key.toLowerCase()||c()}),r.bound=!0)}function d(){s(),function(){const e=n("#adminAccordion");if(e&&!n("#collapseTheme",e)){const n=t.createElement("div");n.className="accordion-item",n.innerHTML='\n        <h2 class="accordion-header" id="headingTheme">\n          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"\n                  data-bs-target="#collapseTheme" aria-expanded="false" aria-controls="collapseTheme">\n            <i class="bi bi-palette me-2"></i> Theme\n          </button>\n        </h2>\n        <div id="collapseTheme" class="accordion-collapse collapse" aria-labelledby="headingTheme" data-bs-parent="#adminAccordion">\n          <div id="sec-theme" class="accordion-body">\n            <div class="btn-group" role="group" aria-label="Theme">\n              <input type="radio" class="btn-check" name="themeOptions" id="themeAuto" value="auto" autocomplete="off">\n              <label class="btn btn-outline-secondary btn-sm" for="themeAuto"><i class="bi bi-phone"></i> Auto</label>\n              <input type="radio" class="btn-check" name="themeOptions" id="themeLight" value="light" autocomplete="off">\n              <label class="btn btn-outline-secondary btn-sm" for="themeLight"><i class="bi bi-brightness-high"></i> Light</label>\n              <input type="radio" class="btn-check" name="themeOptions" id="themeDark" value="dark" autocomplete="off">\n              <label class="btn btn-outline-secondary btn-sm" for="themeDark"><i class="bi bi-moon"></i> Dark</label>\n            </div>\n          </div>\n        </div>',e.appendChild(n)}}(),Array.from(t.querySelectorAll("#sec-theme input[type=radio]")).forEach(e=>{e.__bound||(e.addEventListener("change",e=>{e.target.checked&&l(e.target.value)}),e.__bound=!0)}),r();const e=o();a(e),i(e),window.Theme=Object.assign(window.Theme||{},{get:o,set:l,cycle:c})}"loading"===t.readyState?t.addEventListener("DOMContentLoaded",d,{once:!0}):d()}();